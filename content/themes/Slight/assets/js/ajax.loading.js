function isExternal(url){if(0===url.indexOf("mailto:"))return!0;var match=url.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);return"string"==typeof match[1]&&match[1].length>0&&match[1].toLowerCase()!==location.protocol?!0:"string"==typeof match[2]&&match[2].length>0&&match[2].replace(new RegExp(":("+{"http:":80,"https:":443}[location.protocol]+")?$"),"")!==location.host?!0:!1}jQuery(function($){var history=window.History,$ajaxContainer=$("#ajax-container");return history.enabled?(Pace.start(),Pace.restart(),history.Adapter.bind(window,"statechange",function(){var state=history.getState();$("html, body").animate({scrollTop:0}),$("#main-footer").fadeOut(200),sizeForScroll(),$ajaxContainer.fadeOut(200,function(){$("#ajax-container").load(state.url+" #ajax-content",function(response,status){if("error"==status){var msg=$("<div>",{html:response});msg=msg.find("#ajax-content").html(),$("#ajax-container").html(msg)}document.title=$("#title").text(),sizeForScroll(),$ajaxContainer.fadeIn(100),$("#main-footer").fadeIn(400,function(){Pace.stop()}),$("html, body").animate({scrollTop:$("#ajax-content").offset().top-90},400);try{start()}catch(err){console.log(err)}})})}),void $("body").on("click","a",function(e){if(isExternal($(this).attr("href"))||$(this).hasClass("light-box"))return!0;e.preventDefault();var currentState=history.getState(),url=$(this).attr("href"),title=$(this).attr("title")||null;url!==currentState.url.replace(/\/$/,"")&&history.pushState({},title,url)})):(console.log("Ajax not supported. :("),!1)});