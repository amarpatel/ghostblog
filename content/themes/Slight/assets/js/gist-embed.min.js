function readGists(){$(function(){function e(e){for(var r,t=[],n=e.split(","),i=0;i<n.length;i++)if(r=n[i].split("-"),2===r.length)for(var s=parseInt(r[0],10);s<=r[1];s++)t.push(s);else 1===r.length&&t.push(parseInt(r[0],10));return t}$("[data-gist-id]").each(function(){var n,r,i,s,o,u,a,t=$(this),f={};return t.css("display","block"),n=t.attr("data-gist-id")||"",i=t.attr("data-gist-file"),u=!1,a=!1,s=(t.attr("data-gist-line")||"").replace(/ /g,""),o=(t.attr("data-gist-highlight-line")||"").replace(/ /g,""),i&&(f.file=i),n?(r="https://gist.github.com/"+n+".json",t.html("Loading gist "+r+(f.file?", file: "+f.file:"")+"..."),void $.ajax({url:r,data:f,dataType:"jsonp",timeout:1e4,success:function(n){var i,f,l,c,h;n&&n.div?(n.stylesheet&&0!==n.stylesheet.indexOf("http")&&(0!==n.stylesheet.indexOf("/")&&(n.stylesheet="/"+n.stylesheet),n.stylesheet="https://gist.github.com"+n.stylesheet),n.stylesheet&&0===$('link[href="'+n.stylesheet+'"]').length&&(i=document.createElement("link"),f=document.getElementsByTagName("head")[0],i.type="text/css",i.rel="stylesheet",i.href=n.stylesheet,f.insertBefore(i,f.firstChild)),h=$(n.div),h.removeAttr("id"),t.html("").append(h),s&&(l=e(s),h.find(".line").each(function(e){-1===$.inArray(e+1,l)&&$(this).remove()}),h.find(".line-number").each(function(e){-1===$.inArray(e+1,l)&&$(this).remove()})),u&&h.find(".gist-meta").remove(),a&&h.find(".line-numbers").remove(),o&&(c=e(o),h.find("td.line-data").css({width:"100%"}),h.find(".line").each(function(e){-1!==$.inArray(e+1,c)&&$(this).css({"background-color":"rgb(255, 255, 204)"})}))):t.html("Failed loading gist "+r)},error:function(e,n){t.html("Failed loading gist "+r+": "+n)}})):!1})})}