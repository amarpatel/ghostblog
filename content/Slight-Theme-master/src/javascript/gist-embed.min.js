function readGists(){$(function(){function e(e){var t=[],n=e.split(","),r;for(var i=0;i<n.length;i++){r=n[i].split("-");if(r.length===2){for(var s=parseInt(r[0],10);s<=r[1];s++){t.push(s)}}else if(r.length===1){t.push(parseInt(r[0],10))}}return t}$("[data-gist-id]").each(function(){var t=$(this),n,r,i,s,o,u,a,f={};t.css("display","block");n=t.attr("data-gist-id")||"";i=t.attr("data-gist-file");u=false;a=false;s=(t.attr("data-gist-line")||"").replace(/ /g,"");o=(t.attr("data-gist-highlight-line")||"").replace(/ /g,"");if(i){f.file=i}if(!n)return false;r="https://gist.github.com/"+n+".json";t.html("Loading gist "+r+(f.file?", file: "+f.file:"")+"...");$.ajax({url:r,data:f,dataType:"jsonp",timeout:1e4,success:function(n){var i,f,l,c,h;if(n&&n.div){if(n.stylesheet&&n.stylesheet.indexOf("http")!==0){if(n.stylesheet.indexOf("/")!==0){n.stylesheet="/"+n.stylesheet}n.stylesheet="https://gist.github.com"+n.stylesheet}if(n.stylesheet&&$('link[href="'+n.stylesheet+'"]').length===0){i=document.createElement("link");f=document.getElementsByTagName("head")[0];i.type="text/css";i.rel="stylesheet";i.href=n.stylesheet;f.insertBefore(i,f.firstChild)}h=$(n.div);h.removeAttr("id");t.html("").append(h);if(s){l=e(s);h.find(".line").each(function(e){if($.inArray(e+1,l)===-1){$(this).remove()}});h.find(".line-number").each(function(e){if($.inArray(e+1,l)===-1){$(this).remove()}})}if(u){h.find(".gist-meta").remove()}if(a){h.find(".line-numbers").remove()}if(o){c=e(o);h.find("td.line-data").css({width:"100%"});h.find(".line").each(function(e){if($.inArray(e+1,c)!==-1){$(this).css({"background-color":"rgb(255, 255, 204)"})}})}}else{t.html("Failed loading gist "+r)}},error:function(e,n){t.html("Failed loading gist "+r+": "+n)}})})})}